---
interface Question {
	question: string;
	answer: string;
}

const faqs: Question[] = [
	{
		question: '¿Cuánto tiempo toma desarrollar un proyecto?',
		answer:
			'El tiempo de desarrollo varía según la complejidad del proyecto. Típicamente, un proyecto pequeño puede tomar 4-6 semanas, mientras que proyectos más grandes pueden llevar 3-6 meses.',
	},
	{
		question: '¿Qué tecnologías utilizan?',
		answer:
			'Trabajamos con las últimas tecnologías del mercado, incluyendo React, Node.js, TypeScript, y otras herramientas modernas según las necesidades específicas de cada proyecto.',
	},
	{
		question: '¿Ofrecen mantenimiento post-desarrollo?',
		answer:
			'Sí, ofrecemos servicios de mantenimiento y soporte continuo para asegurar que tu solución siga funcionando de manera óptima.',
	},
	{
		question: '¿Cómo garantizan la calidad del código?',
		answer:
			'Implementamos prácticas de código limpio, realizamos pruebas automatizadas y seguimos estrictos estándares de calidad en todo nuestro proceso de desarrollo.',
	},
	{
		question: '¿Cuál es su proceso de trabajo?',
		answer:
			'Seguimos una metodología ágil que incluye fases de planificación, diseño, desarrollo, pruebas y despliegue. Mantenemos una comunicación constante con el cliente durante todo el proceso.',
	},
	{
		question: '¿Ofrecen servicios de consultoría?',
		answer:
			'Sí, proporcionamos servicios de consultoría técnica para ayudarte a definir la mejor estrategia y stack tecnológico para tu proyecto, basándonos en tus necesidades específicas.',
	},
	{
		question: '¿Cómo manejan la seguridad de los proyectos?',
		answer:
			'Implementamos las mejores prácticas de seguridad en todos nuestros desarrollos, incluyendo encriptación de datos, autenticación segura y protección contra vulnerabilidades comunes.',
	},
];
---

<section class='py-16 bg-purple-1'>
	<h2 class='text-2xl md:text-4xl font-bold text-green-normal text-center mb-16'>FAQ's</h2>

	<div class='faq-container flex flex-col gap-4 mx-auto max-w-4xl px-6 lg:px-8'>
		{
			faqs.map((faq) => (
				<div class='faq-item bg-purple-normal rounded-lg overflow-hidden cursor-pointer transition-all duration-300 shadow-lg'>
					<div class='w-full text-left p-4 flex justify-between items-center gap-4'>
						<span class='text-white font-medium flex-1 '>{faq.question}</span>
						<img
							src='/arrow-down.svg'
							alt='Expandir'
							class='w-5 h-5 transition-transform duration-300 [.active_&]:rotate-180 '
						/>
					</div>
					<div class='faq-answer overflow-hidden max-h-0 transition-all duration-300 ease-in-out'>
						<div class='p-4  flex '>
							<p class='text-purple-light flex-1 mr-8 '>{faq.answer}</p>
						</div>
					</div>
				</div>
			))
		}
	</div>
</section>

<script is:inline>
	document.addEventListener('DOMContentLoaded', () => {
		const faqContainer = document.querySelector('.faq-container');
		if (!faqContainer) return;

		faqContainer.addEventListener('click', (e) => {
			const faqItem = e.target.closest('.faq-item');
			if (!faqItem) return;

			const answer = faqItem.querySelector('.faq-answer');
			if (!answer) return;

			const isActive = faqItem.classList.contains('active');

			document.querySelectorAll('.faq-item.active').forEach((otherItem) => {
				if (otherItem !== faqItem) {
					otherItem.classList.remove('active');
					const otherAnswer = otherItem.querySelector('.faq-answer');
					if (otherAnswer) {
						otherAnswer.style.maxHeight = '0';
					}
				}
			});

			if (!isActive) {
				faqItem.classList.add('active');
				answer.style.maxHeight = `${answer.scrollHeight}px`;
			} else {
				faqItem.classList.remove('active');
				answer.style.maxHeight = '0';
			}
		});
	});
</script>
