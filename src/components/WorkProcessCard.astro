---
interface Props {
	nombre: string;
	descripcion: string;
	icon: string;
	index: number;
	isLast: boolean;
}

const { nombre, descripcion, icon, index, isLast } = Astro.props;
---

<div class={`relative flex-1 group md:w-1/2 ${index % 2 === 0 ? 'md:mr-auto' : 'md:ml-auto'} py-4 md:py-0`}>
	<!-- Conector (lÃ­nea + punto) -->
	<div>
		<div
			class={`absolute top-0 bottom-0 w-px bg-purple-light 
			${index === 0 ? 'top-1/2' : ''} 
			${isLast ? 'bottom-1/2' : ''} 
			left-0 -translate-x-1/2
			${index % 2 === 0 ? 'md:left-auto md:right-0 md:translate-x-1/2' : ''}`}
		>
		</div>
		<div
			class={`absolute top-1/2 h-px bg-green-normal group-hover:bg-green-normal transition-colors 
			left-0 w-8 md:w-12
			${index % 2 === 0 ? 'md:left-auto md:right-0' : ''}`}
		>
		</div>
		<div
			class={`absolute top-1/2 w-6 h-6 -translate-y-1/2 
			left-0 -translate-x-1/2
			${index % 2 === 0 ? 'md:left-auto md:right-0 md:translate-x-1/2' : ''} 
			rounded-lg bg-purple-1 border border-green-normal group-hover:border-green-normal transition-colors`}
		>
			<div class='absolute inset-1.5 rounded-lg bg-green-normal group-hover:bg-green-normal transition-colors'></div>
		</div>
	</div>

	<!-- Card -->
	<div
		class={`bg-purple-3 rounded-lg border border-green-normal p-6 group-hover:border-green-normal transition-colors 
		ml-8 ${index % 2 === 0 ? 'md:ml-0 md:mr-12' : 'md:ml-12'}`}
	>
		<div class='flex items-center gap-6'>
			<div
				class='w-16 h-16 shrink-0 rounded-full bg-purple-2/50 border border-purple-light flex items-center justify-center group-hover:border-green-normal transition-colors overflow-hidden'
			>
				<img src={icon} alt={`Icono de ${nombre}`} class='w-full h-full ' />
			</div>
			<div>
				<h3 class='text-xl font-bold text-green-normal mb-3 group-hover:text-green-normal transition-colors'>
					{nombre}
				</h3>
				<p class='text-purple-light text-sm leading-relaxed'>{descripcion}</p>
			</div>
		</div>
	</div>
</div>
