---
interface Props {
	nombre: string;
	descripcion: string;
	icon: string;
	index: number;
	isLast: boolean;
}

const { nombre, descripcion, icon, index, isLast } = Astro.props;
---

<div
	class={`relative flex-1 group md2:w-1/2 ${index % 2 === 0 ? 'md2:mr-auto' : 'md2:ml-auto'} py-4 md2:py-0 group z-10`}
>
	<div>
		<div
			class={`absolute top-0 bottom-0 w-px bg-purple-light/80 
			${index === 0 ? 'top-1/2' : ''} 
			${isLast ? 'bottom-1/2' : ''} 
			left-0 -translate-x-1/2
			${index % 2 === 0 ? 'md2:left-auto md2:right-0 md2:translate-x-1/2' : ''}`}
		>
		</div>
		<div
			class={`absolute top-1/2 h-px bg-purple-light/80 group-hover:bg-green-normal transition-colors duration-300
			left-0 w-8 md2:w-12
			${index % 2 === 0 ? 'md2:left-auto md2:right-0' : ''}`}
		>
		</div>
		<div
			class={`absolute top-1/2 w-6 h-6 -translate-y-1/2 
			left-0 -translate-x-1/2
			${index % 2 === 0 ? 'md2:left-auto md2:right-0 md2:translate-x-1/2' : ''} 
			rounded-lg bg-purple-1 border border-purple-light/80 group-hover:border-green-normal transition-colors duration-300`}
		>
			<div
				class='absolute inset-1.5 rounded-lg bg-purple-light/80 group-hover:bg-green-normal transition-colors duration-300'
			>
			</div>
		</div>
	</div>

	<div
		class={`bg-purple-normal rounded-lg p-6 shadow-lg  
		ml-8 ${index % 2 === 0 ? 'md2:ml-0 md2:mr-12' : 'md2:ml-12'}
    border border-[transparent] group-hover:border-green-normal transition-colors duration-300 flex flex-col sm:flex-row items-center gap-6 relative overflow-hidden z-0
    `}
	>
		<div
			class='w-1/2 sm:w-16 md:w-20 h-auto sm:h-16 md:h-20 shrink-0 rounded-full bg-purple-2 flex items-center justify-center overflow-hidden group-hover:scale-110 transition-transform duration-300 mr-auto absolute sm:relative -bottom-10 sm:-bottom-0 -right-10 sm:-right-0  -z-10  opacity-20 sm:opacity-100'
		>
			<img src={icon} alt={`Icono de ${nombre}`} class='w-full h-full p-1 select-none' />
		</div>
		<div>
			<h3 class='text-xl font-bold text-white group-hover:text-green-normal transition-colors duration-300 mb-3'>
				{nombre}
			</h3>
			<p class='text-purple-light group-hover:text-white transition-colors duration-300 text-sm leading-relaxed'>
				{descripcion}
			</p>
		</div>
	</div>
</div>
